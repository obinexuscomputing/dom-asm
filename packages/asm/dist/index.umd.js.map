{"version":3,"file":"index.umd.js","sources":["../src/automaton/StateMachine.ts","../src/automaton/StateMachineAST.ts","../src/automaton/StateMinimizer.ts"],"sourcesContent":[null,null,null],"names":["constructor","initialState","transitions","this","currentState","states","Set","flatMap","t","from","to","alphabet","map","on","getCurrentState","transition","event","find","Error","minimize","partitions","nonFinalStates","filter","s","isFinalState","finalStates","add","changed","partition","first","rest","newPartitions","newPartition","state","areEquivalent","size","delete","newPart","updateTransitions","state1","state2","symbol","next1","getNextState","next2","inSamePartition","has","stateMap","Map","representative","set","get","values","root","automaton","optimizeAST","updatedNodes","traverse","node","id","newNode","Object","entries","forEach","input","nextNodeId","minimizedState","acceptingStates","initializePartitions","partitionsChanged","splitPartitions","length","minimizedStates","minimizedTransitions","nextState","findPartitionRepresentative","includes","nonAcceptingStates","splitMap","signature","JSON","stringify","push"],"mappings":"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"}