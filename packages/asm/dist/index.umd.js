!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((t="undefined"!=typeof globalThis?globalThis:t||self).DOMAST={})}(this,(function(t){"use strict";function n(t,n){const e=[];return t.forEach((t=>{const i={};t.forEach((t=>{const e=JSON.stringify(n[t]);i[e]||(i[e]=[]),i[e].push(t)})),e.push(...Object.values(i))})),e}function e(t,n){return t.find((t=>t.includes(n)))?.[0]??n}t.minimizeAutomaton=function(t){const{states:i,transitions:s,initialState:o,acceptingStates:r}=t;let c=function(t,n){const e=t.filter((t=>!n.includes(t)));return[n,e]}(i,r),a=!0;for(;a;)a=!1,c=n(c,s);const u=c.map((t=>t[0])),f={};return u.forEach((t=>{f[t]={},Object.entries(s[t]).forEach((([n,i])=>{f[t][n]=e(c,i)}))})),{states:u,transitions:f,initialState:e(c,o),acceptingStates:r.filter((t=>u.includes(t)))}},t.optimizeAST=function(t,n){const e=new Map;return function t(i){if(e.has(i.id))return e.get(i.id);const s={...i,transitions:{}};return Object.entries(i.transitions).forEach((([e,o])=>{const r=n.transitions[i.id]?.[e];r&&(s.transitions[e]=t({...i,id:r}).id)})),e.set(i.id,s),s}(t)},t.validateAST=function(t){const n=new Set;return function t(e){return!!n.has(e.id)||(n.add(e.id),Object.values(e.transitions).every((n=>t({...e,id:n}))))}(t)},t.validateAutomaton=function(t){return Object.values(t.transitions).every((n=>Object.values(n).every((n=>t.states.includes(n)))))}}));
//# sourceMappingURL=index.umd.js.map
