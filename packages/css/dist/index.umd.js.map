{"version":3,"file":"index.umd.js","sources":["../src/tokenizer/index.ts","../src/validator/index.ts","../src/optimizer/index.ts","../src/ast/index.ts","../src/generator/index.ts","../src/parser/index.ts"],"sourcesContent":[null,null,null,null,null,null],"names":["Tokenizer","input","position","line","column","constructor","this","isWhitespace","char","isCommentStart","isDelimiter","includes","consumeWhitespace","consumeComment","start","length","type","value","slice","consumeDelimiter","consumeOther","tokenize","tokens","push","Validator","ast","errors","validateStylesheet","node","child","children","validateRule","selector","find","declarations","filter","declaration","validateDeclaration","property","validate","ASTOptimizer","removeDuplicateDeclarations","uniqueDeclarations","propertyNode","concat","Object","values","mergeAdjacentRules","ruleMap","c","optimize","ASTBuilder","currentToken","consumeToken","token","parseStylesheet","stylesheet","rule","parseRule","parseSelector","parseDeclarations","closingBrace","Error","parseDeclaration","parseProperty","parseValue","semicolon","buildAST","generateStylesheet","map","generateRule","join","generateSelector","generateDeclaration","generate","parse"],"mappings":"oPAMaA,EACHC,MACAC,SACAC,KACAC,OAER,WAAAC,CAAYJ,GACVK,KAAKL,MAAQA,EACbK,KAAKJ,SAAW,EAChBI,KAAKH,KAAO,EACZG,KAAKF,OAAS,EAGR,YAAAG,CAAaC,GACnB,MAAgB,MAATA,GAAyB,OAATA,GAA0B,OAATA,GAA0B,OAATA,EAGnD,cAAAC,GACN,MAAqC,MAA9BH,KAAKL,MAAMK,KAAKJ,WAAuD,MAAlCI,KAAKL,MAAMK,KAAKJ,SAAW,GAGjE,WAAAQ,CAAYF,GAClB,MAAO,CAAC,IAAK,IAAK,IAAK,IAAK,KAAKG,SAASH,GAGpC,iBAAAI,GACN,KAAON,KAAKC,aAAaD,KAAKL,MAAMK,KAAKJ,YACL,OAA9BI,KAAKL,MAAMK,KAAKJ,WAClBI,KAAKH,OACLG,KAAKF,OAAS,GAEdE,KAAKF,SAEPE,KAAKJ,WAID,cAAAW,GACN,MAAMC,EAAQR,KAAKJ,SAEnB,IADAI,KAAKJ,UAAY,EAEfI,KAAKJ,SAAWI,KAAKL,MAAMc,SACK,MAA9BT,KAAKL,MAAMK,KAAKJ,WAAuD,MAAlCI,KAAKL,MAAMK,KAAKJ,SAAW,KAEhC,OAA9BI,KAAKL,MAAMK,KAAKJ,WAClBI,KAAKH,OACLG,KAAKF,OAAS,GAEdE,KAAKF,SAEPE,KAAKJ,WAGP,OADAI,KAAKJ,UAAY,EACV,CACLc,KAAM,UACNC,MAAOX,KAAKL,MAAMiB,MAAMJ,EAAOR,KAAKJ,UACpCA,SAAU,CAAEC,KAAMG,KAAKH,KAAMC,OAAQE,KAAKF,SAItC,gBAAAe,GACN,MAAMX,EAAOF,KAAKL,MAAMK,KAAKJ,UAG7B,OAFAI,KAAKJ,WACLI,KAAKF,SACE,CACLY,KAAM,YACNC,MAAOT,EACPN,SAAU,CAAEC,KAAMG,KAAKH,KAAMC,OAAQE,KAAKF,SAItC,YAAAgB,GACN,MAAMN,EAAQR,KAAKJ,SACnB,KACEI,KAAKJ,SAAWI,KAAKL,MAAMc,SAC1BT,KAAKC,aAAaD,KAAKL,MAAMK,KAAKJ,aAClCI,KAAKG,mBACLH,KAAKI,YAAYJ,KAAKL,MAAMK,KAAKJ,YAElCI,KAAKJ,WACLI,KAAKF,SAEP,MAAO,CACLY,KAAM,QACNC,MAAOX,KAAKL,MAAMiB,MAAMJ,EAAOR,KAAKJ,UACpCA,SAAU,CAAEC,KAAMG,KAAKH,KAAMC,OAAQE,KAAKF,SAIvC,QAAAiB,GACL,MAAMC,EAAkB,GAExB,KAAOhB,KAAKJ,SAAWI,KAAKL,MAAMc,QAAQ,CACxC,MAAMP,EAAOF,KAAKL,MAAMK,KAAKJ,UAEzBI,KAAKC,aAAaC,GACpBF,KAAKM,oBACIN,KAAKG,iBACda,EAAOC,KAAKjB,KAAKO,kBACRP,KAAKI,YAAYF,GAC1Bc,EAAOC,KAAKjB,KAAKa,oBAEjBG,EAAOC,KAAKjB,KAAKc,gBAIrB,OAAOE,SCxFEE,EACHC,IACAC,OAER,WAAArB,CAAYoB,GACVnB,KAAKmB,IAAMA,EACXnB,KAAKoB,OAAS,GAGR,kBAAAC,CAAmBC,GACP,eAAdA,EAAKZ,MACPV,KAAKoB,OAAOH,KAAK,2BAA2BK,EAAKZ,QAGnD,IAAK,MAAMa,KAASD,EAAKE,SACJ,SAAfD,EAAMb,KACRV,KAAKyB,aAAaF,GAElBvB,KAAKoB,OAAOH,KAAK,0CAA0CM,EAAMb,QAK/D,YAAAe,CAAaH,GACnB,MAAMI,EAAWJ,EAAKE,SAASG,MAAMJ,GAAyB,aAAfA,EAAMb,OAChDgB,GAAaA,EAASf,OACzBX,KAAKoB,OAAOH,KAAK,wCAGnB,MAAMW,EAAeN,EAAKE,SAASK,QAAQN,GAAyB,gBAAfA,EAAMb,OAC3D,IAAK,MAAMoB,KAAeF,EACxB5B,KAAK+B,oBAAoBD,GAIrB,mBAAAC,CAAoBT,GAC1B,MAAMU,EAAWV,EAAKE,SAASG,MAAMJ,GAAyB,aAAfA,EAAMb,OAC/CC,EAAQW,EAAKE,SAASG,MAAMJ,GAAyB,UAAfA,EAAMb,OAE7CsB,GAAaA,EAASrB,OACzBX,KAAKoB,OAAOH,KAAK,+CAGdN,GAAUA,EAAMA,OACnBX,KAAKoB,OAAOH,KAAK,4CAId,QAAAgB,GAEL,OADAjC,KAAKqB,mBAAmBrB,KAAKmB,KACtBnB,KAAKoB,cCvEHc,EACHf,IAER,WAAApB,CAAYoB,GACVnB,KAAKmB,IAAMA,EAGL,2BAAAgB,CAA4Bb,GAClC,GAAkB,SAAdA,EAAKZ,KAAiB,CACxB,MAAMkB,EAAeN,EAAKE,SAASK,QAAQN,GAAyB,gBAAfA,EAAMb,OACrD0B,EAA8C,CAAE,EAEtD,IAAK,MAAMN,KAAeF,EAAc,CACtC,MAAMS,EAAeP,EAAYN,SAASG,MAAMJ,GAAyB,aAAfA,EAAMb,OAC5D2B,GAAgBA,EAAa1B,QAC/ByB,EAAmBC,EAAa1B,OAASmB,GAI7CR,EAAKE,SAAWF,EAAKE,SAASK,QAAQN,GAAyB,gBAAfA,EAAMb,OAAwB4B,OAAOC,OAAOC,OAAOJ,IAGrG,IAAK,MAAMb,KAASD,EAAKE,SACvBxB,KAAKmC,4BAA4BZ,GAI7B,kBAAAkB,CAAmBnB,GACzB,GAAkB,eAAdA,EAAKZ,KAAuB,CAC9B,MAAMgC,EAAmC,CAAE,EAE3CpB,EAAKE,SAAWF,EAAKE,SAASK,QAAQN,IACpC,GAAmB,SAAfA,EAAMb,KAAiB,CACzB,MAAMgB,EAAWH,EAAMC,SAASG,MAAMgB,GAAiB,aAAXA,EAAEjC,OAC9C,GAAIgB,GAAYA,EAASf,MAAO,CAC9B,GAAI+B,EAAQhB,EAASf,OAInB,OAHA+B,EAAQhB,EAASf,OAAOa,SAASP,QAC5BM,EAAMC,SAASK,QAAQc,GAAiB,gBAAXA,EAAEjC,SAE7B,EAEPgC,EAAQhB,EAASf,OAASY,GAIhC,OAAO,CAAI,IAIf,IAAK,MAAMA,KAASD,EAAKE,SACvBxB,KAAKyC,mBAAmBlB,GAIrB,QAAAqB,GAGL,OAFA5C,KAAKmC,4BAA4BnC,KAAKmB,KACtCnB,KAAKyC,mBAAmBzC,KAAKmB,KACtBnB,KAAKmB,WCtCH0B,EACH7B,OACApB,SAER,WAAAG,CAAYiB,GACVhB,KAAKgB,OAASA,EACdhB,KAAKJ,SAAW,EAGV,YAAAkD,GACN,OAAO9C,KAAKJ,SAAWI,KAAKgB,OAAOP,OAAST,KAAKgB,OAAOhB,KAAKJ,UAAY,KAGnE,YAAAmD,GACN,MAAMC,EAAQhD,KAAK8C,eAEnB,OADIE,GAAOhD,KAAKJ,WACToD,EAGD,eAAAC,GACN,MAAMC,EAAsB,CAAExC,KAAM,aAAcc,SAAU,IAE5D,KAAOxB,KAAK8C,gBAAgB,CAC1B,MAAMK,EAAOnD,KAAKoD,YACdD,GACFD,EAAW1B,SAASP,KAAKkC,GAI7B,OAAOD,EAGD,SAAAE,GACN,MAAM1B,EAAW1B,KAAKqD,gBACtB,IAAK3B,EAAU,OAAO,KAEtB,MAAMyB,EAAgB,CAAEzC,KAAM,OAAQc,SAAU,CAACE,IAE3CsB,EAAQhD,KAAK8C,eACnB,GAAoB,UAAhBE,GAAOtC,MAAoC,MAAhBsC,EAAMrC,MAAe,CAClDX,KAAK+C,eACL,MAAMnB,EAAe5B,KAAKsD,oBAC1BH,EAAK3B,SAASP,QAAQW,GAEtB,MAAM2B,EAAevD,KAAK8C,eAC1B,GAA2B,UAAvBS,GAAc7C,MAA2C,MAAvB6C,EAAa5C,MAGjD,MAAM,IAAI6C,MAAM,4CAA4CD,GAAc5C,SAF1EX,KAAK+C,eAMT,OAAOI,EAGD,aAAAE,GACN,MAAML,EAAQhD,KAAK8C,eACnB,MAAoB,UAAhBE,GAAOtC,MACTV,KAAK+C,eACE,CAAErC,KAAM,WAAYC,MAAOqC,EAAMrC,MAAOa,SAAU,KAEpD,KAGD,iBAAA8B,GACN,MAAM1B,EAA0B,GAEhC,KAAO5B,KAAK8C,gBAAiD,MAA/B9C,KAAK8C,gBAAgBnC,OAAe,CAChE,MAAMmB,EAAc9B,KAAKyD,mBACrB3B,GACFF,EAAaX,KAAKa,GAItB,OAAOF,EAGD,gBAAA6B,GACN,MAAMzB,EAAWhC,KAAK0D,gBACtB,IAAK1B,EAAU,OAAO,KAEtB,MAAMgB,EAAQhD,KAAK8C,eACnB,GAAoB,UAAhBE,GAAOtC,MAAoC,MAAhBsC,EAAMrC,MAAe,CAClDX,KAAK+C,eACL,MAAMpC,EAAQX,KAAK2D,aAEnB,GAAIhD,EAAO,CACT,MAAMmB,EAAuB,CAAEpB,KAAM,cAAec,SAAU,CAACQ,EAAUrB,IAEnEiD,EAAY5D,KAAK8C,eAKvB,MAJwB,UAApBc,GAAWlD,MAAwC,MAApBkD,EAAUjD,OAC3CX,KAAK+C,eAGAjB,GAIX,OAAO,KAGD,aAAA4B,GACN,MAAMV,EAAQhD,KAAK8C,eACnB,MAAoB,UAAhBE,GAAOtC,MACTV,KAAK+C,eACE,CAAErC,KAAM,WAAYC,MAAOqC,EAAMrC,MAAOa,SAAU,KAEpD,KAGD,UAAAmC,GACN,MAAMX,EAAQhD,KAAK8C,eACnB,MAAoB,UAAhBE,GAAOtC,MACTV,KAAK+C,eACE,CAAErC,KAAM,QAASC,MAAOqC,EAAMrC,MAAOa,SAAU,KAEjD,KAGF,QAAAqC,GACL,OAAO7D,KAAKiD,0DC/GN9B,IAER,WAAApB,CAAYoB,GACVnB,KAAKmB,IAAMA,EAGL,kBAAA2C,CAAmBxC,GACzB,OAAOA,EAAKE,SAASuC,KAAKxC,GAAUvB,KAAKgE,aAAazC,KAAQ0C,KAAK,MAG7D,YAAAD,CAAa1C,GACnB,MAAMI,EAAWJ,EAAKE,SAASG,MAAMJ,GAAyB,aAAfA,EAAMb,OAC/CkB,EAAeN,EAAKE,SAASK,QAAQN,GAAyB,gBAAfA,EAAMb,OAE3D,IAAKgB,EACH,MAAM,IAAI8B,MAAM,4BAMlB,MAAO,GAHcxD,KAAKkE,iBAAiBxC,WAClBE,EAAamC,KAAKjC,GAAgB9B,KAAKmE,oBAAoBrC,KAAcmC,KAAK,aAOjG,gBAAAC,CAAiB5C,GACvB,OAAOA,EAAKX,OAAS,GAGf,mBAAAwD,CAAoB7C,GAC1B,MAAMU,EAAWV,EAAKE,SAASG,MAAMJ,GAAyB,aAAfA,EAAMb,OAC/CC,EAAQW,EAAKE,SAASG,MAAMJ,GAAyB,UAAfA,EAAMb,OAElD,IAAKsB,IAAarB,EAChB,MAAM,IAAI6C,MAAM,4CAGlB,MAAO,GAAGxB,EAASrB,UAAUA,EAAMA,SAG9B,QAAAyD,GACL,GAAsB,eAAlBpE,KAAKmB,IAAIT,KACX,MAAM,IAAI8C,MAAM,+CAGlB,OAAOxD,KAAK8D,mBAAmB9D,KAAKmB,sBCrD9BxB,MACAsC,SAER,WAAAlC,CAAYJ,EAAesC,GAAoB,GAC7CjC,KAAKL,MAAQA,EACbK,KAAKiC,SAAWA,EAGX,KAAAoC,GAEL,MACMrD,EADY,IAAItB,EAAUM,KAAKL,OACZoB,WAIzB,IAAII,EADe,IAAI0B,EAAW7B,GACb6C,WAGrB,GAAI7D,KAAKiC,SAAU,CACjB,MACMb,EADY,IAAIF,EAAUC,GACPc,WACzB,GAAIb,EAAOX,OAAS,EAClB,MAAM,IAAI+C,MAAM,uBAAuBpC,EAAO6C,KAAK,SAQvD,OAFA9C,EADkB,IAAIe,EAAaf,GACnByB,WAETzB"}