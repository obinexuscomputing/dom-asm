{"version":3,"file":"index.umd.js","sources":["../src/tokenizer/index.ts","../src/ast/index.ts","../src/optimizer/index.ts","../src/validator/index.ts","../src/generator/index.ts","../src/parser/index.ts"],"sourcesContent":[null,null,null,null,null,null],"names":["CSSTokenizer","constructor","input","this","position","line","column","isWhitespace","char","isCommentStart","isDelimiter","includes","consumeWhitespace","consumeComment","start","length","type","value","slice","consumeDelimiter","consumeOther","tokenize","tokens","push","ASTBuilder","currentToken","consumeToken","token","parseStylesheet","stylesheet","children","rule","parseRule","selector","parseSelector","declarations","parseDeclarations","closingBrace","Error","declaration","parseDeclaration","property","parseProperty","parseValue","semicolon","buildAST","CSSASTOptimizer","ast","removeDuplicateDeclarations","node","filter","child","uniqueDeclarations","propertyNode","find","concat","Object","values","mergeAdjacentRules","ruleMap","c","optimize","CSSValidator","errors","validateStylesheet","validateRule","validateDeclaration","validate","generateStylesheet","map","generateRule","join","generateSelector","generateDeclaration","generate","parse"],"mappings":"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"}