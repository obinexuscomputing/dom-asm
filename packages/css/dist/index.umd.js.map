{"version":3,"file":"index.umd.js","sources":["../../src/tokenizer/index.ts","../../src/validator/index.ts","../../src/optimizer/index.ts","../../src/ast/index.ts","../../src/generator/index.ts","../../src/parser/index.ts"],"sourcesContent":[null,null,null,null,null,null],"names":["Tokenizer","constructor","input","this","position","line","column","isWhitespace","char","isCommentStart","isDelimiter","includes","consumeWhitespace","consumeComment","start","length","type","value","slice","consumeDelimiter","consumeOther","tokenize","tokens","push","Validator","ast","errors","validateStylesheet","node","child","children","validateRule","selector","find","declarations","filter","declaration","validateDeclaration","property","validate","ASTOptimizer","removeDuplicateDeclarations","uniqueDeclarations","propertyNode","concat","Object","values","mergeAdjacentRules","ruleMap","c","optimize","ASTBuilder","currentToken","consumeToken","token","parseStylesheet","stylesheet","rule","parseRule","parseSelector","parseDeclarations","closingBrace","Error","parseDeclaration","parseProperty","parseValue","semicolon","buildAST","generateStylesheet","map","generateRule","join","generateSelector","generateDeclaration","generate","parse"],"mappings":"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"}