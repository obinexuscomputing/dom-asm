{"version":3,"file":"index.umd.js","sources":["../src/tokenizer/index.ts","../src/validator/index.ts","../src/optimizer/index.ts","../src/ast/index.ts","../src/generator/index.ts","../src/parser/index.ts"],"sourcesContent":[null,null,null,null,null,null],"names":["Tokenizer","input","position","line","column","constructor","this","isWhitespace","char","isCommentStart","consumeWhitespace","start","type","value","slice","consumeComment","length","consumeOther","tokenize","tokens","push","Validator","ast","errors","validateStylesheet","node","child","children","validateRule","selector","find","declarations","filter","declaration","validateDeclaration","property","validate","ASTOptimizer","removeDuplicateDeclarations","uniqueDeclarations","propertyNode","concat","Object","values","mergeAdjacentRules","ruleMap","c","optimize","ASTBuilder","currentToken","consumeToken","token","parseStylesheet","stylesheet","rule","parseRule","parseSelector","parseDeclarations","closingBrace","Error","parseDeclaration","parseProperty","parseValue","semicolon","buildAST","generateStylesheet","map","generateRule","join","generateSelector","generateDeclaration","generate","parse"],"mappings":"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"}