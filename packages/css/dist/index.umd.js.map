{"version":3,"file":"index.umd.js","sources":["../src/ast/index.ts","../src/generator/index.ts","../src/optimizer/index.ts","../src/tokenizer/index.ts","../src/validator/index.ts"],"sourcesContent":[null,null,null,null,null],"names":["tokens","position","constructor","this","currentToken","length","consumeToken","token","parseStylesheet","stylesheet","type","children","rule","parseRule","push","selector","parseSelector","value","declarations","parseDeclarations","closingBrace","Error","declaration","parseDeclaration","property","parseProperty","parseValue","semicolon","buildAST","ast","generateStylesheet","node","map","child","generateRule","join","find","filter","generateSelector","generateDeclaration","generate","removeDuplicateDeclarations","uniqueDeclarations","propertyNode","concat","Object","values","mergeAdjacentRules","ruleMap","c","optimize","input","line","column","isWhitespace","char","isCommentStart","consumeWhitespace","start","slice","consumeComment","consumeOther","tokenize","errors","validateStylesheet","validateRule","validateDeclaration","validate"],"mappings":"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"}