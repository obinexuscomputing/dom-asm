{"version":3,"file":"index.js","sources":["../src/ast/index.ts","../src/optimizer/index.ts","../src/tokenizer/index.ts","../src/validator/index.ts","../src/parser/index.ts","../src/generator/index.ts"],"sourcesContent":[null,null,null,null,null,null],"names":["ASTBuilder","tokens","position","constructor","this","currentToken","length","consumeToken","token","parseStylesheet","stylesheet","type","children","rule","parseRule","push","selector","parseSelector","value","declarations","parseDeclarations","closingBrace","Error","declaration","parseDeclaration","property","parseProperty","parseValue","semicolon","buildAST","CSSASTOptimizer","ast","removeDuplicateDeclarations","node","filter","child","uniqueDeclarations","propertyNode","find","concat","Object","values","mergeAdjacentRules","ruleMap","c","optimize","CSSTokenizer","input","line","column","isWhitespace","char","isCommentStart","isDelimiter","includes","consumeWhitespace","consumeComment","start","slice","consumeDelimiter","consumeOther","tokenize","CSSValidator","errors","validateStylesheet","validateRule","validateDeclaration","validate","CSSParser","parse","join","CSSCodeGenerator","generateStylesheet","map","generateRule","generateSelector","generateDeclaration","generate"],"mappings":"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"}