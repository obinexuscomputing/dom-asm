{"version":3,"file":"index.js","sources":["../../src/tokenizer/index.ts","../../src/validator/index.ts","../../src/optimizer/index.ts","../../src/generator/index.ts","../../src/ast/index.ts","../../src/parser/index.ts"],"sourcesContent":[null,null,null,null,null,null],"names":["Tokenizer","constructor","input","this","position","line","column","isWhitespace","char","isCommentStart","isDelimiter","includes","consumeWhitespace","consumeComment","start","length","type","value","slice","consumeDelimiter","consumeOther","tokenize","tokens","push","Validator","ast","errors","validateStylesheet","node","child","children","validateRule","selector","find","declarations","filter","declaration","validateDeclaration","property","validate","ASTOptimizer","removeDuplicateDeclarations","uniqueDeclarations","propertyNode","concat","Object","values","mergeAdjacentRules","ruleMap","c","optimize","CodeGenerator","generateStylesheet","map","generateRule","join","Error","generateSelector","generateDeclaration","generate","ASTBuilder","currentToken","consumeToken","token","parseStylesheet","stylesheet","rule","parseRule","parseSelector","parseDeclarations","closingBrace","parseDeclaration","parseProperty","parseValue","semicolon","buildAST","Parser","parse"],"mappings":"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"}