{"version":3,"file":"index.js","sources":["../src/tokenizer/index.ts","../src/validator/index.ts","../src/optimizer/index.ts","../src/generator/index.ts","../src/ast/index.ts","../src/parser/index.ts"],"sourcesContent":[null,null,null,null,null,null],"names":["Tokenizer","input","position","line","column","constructor","this","isWhitespace","char","isCommentStart","isDelimiter","includes","consumeWhitespace","consumeComment","start","length","type","value","slice","consumeDelimiter","consumeOther","tokenize","tokens","push","Validator","ast","errors","validateStylesheet","node","child","children","validateRule","selector","find","declarations","filter","declaration","validateDeclaration","property","validate","ASTOptimizer","removeDuplicateDeclarations","uniqueDeclarations","propertyNode","concat","Object","values","mergeAdjacentRules","ruleMap","c","optimize","CodeGenerator","generateStylesheet","map","generateRule","join","Error","generateSelector","generateDeclaration","generate","ASTBuilder","currentToken","consumeToken","token","parseStylesheet","stylesheet","rule","parseRule","parseSelector","parseDeclarations","closingBrace","parseDeclaration","parseProperty","parseValue","semicolon","buildAST","Parser","parse"],"mappings":"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"}