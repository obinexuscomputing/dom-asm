{"version":3,"file":"index.js","sources":["../src/tokenizer/index.ts","../src/validator/index.ts","../src/optimizer/index.ts","../src/generator/index.ts","../src/ast/index.ts","../src/parser/index.ts"],"sourcesContent":[null,null,null,null,null,null],"names":["Tokenizer","input","position","line","column","constructor","this","isWhitespace","char","isCommentStart","consumeWhitespace","start","type","value","slice","consumeComment","length","consumeOther","tokenize","tokens","push","Validator","ast","errors","validateStylesheet","node","child","children","validateRule","selector","find","declarations","filter","declaration","validateDeclaration","property","validate","ASTOptimizer","removeDuplicateDeclarations","uniqueDeclarations","propertyNode","concat","Object","values","mergeAdjacentRules","ruleMap","c","optimize","CodeGenerator","generateStylesheet","map","generateRule","join","Error","generateSelector","generateDeclaration","generate","ASTBuilder","currentToken","consumeToken","token","parseStylesheet","stylesheet","rule","parseRule","parseSelector","parseDeclarations","closingBrace","parseDeclaration","parseProperty","parseValue","semicolon","buildAST","Parser","parse"],"mappings":"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"}