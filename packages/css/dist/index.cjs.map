{"version":3,"file":"index.cjs","sources":["../src/tokenizer/index.ts","../src/ast/index.ts","../src/optimizer/index.ts","../src/validator/index.ts","../src/generator/index.ts","../src/parser/index.ts"],"sourcesContent":[null,null,null,null,null,null],"names":["CSSTokenizer","input","position","line","column","constructor","this","isWhitespace","char","isCommentStart","isDelimiter","includes","consumeWhitespace","consumeComment","start","length","type","value","slice","consumeDelimiter","consumeOther","tokenize","tokens","push","ASTBuilder","currentToken","consumeToken","token","parseStylesheet","stylesheet","children","rule","parseRule","selector","parseSelector","declarations","parseDeclarations","closingBrace","Error","declaration","parseDeclaration","property","parseProperty","parseValue","semicolon","buildAST","CSSASTOptimizer","ast","removeDuplicateDeclarations","node","filter","child","uniqueDeclarations","propertyNode","find","concat","Object","values","mergeAdjacentRules","ruleMap","c","optimize","CSSValidator","errors","validateStylesheet","validateRule","validateDeclaration","validate","generateStylesheet","map","generateRule","join","generateSelector","generateDeclaration","generate","parse"],"mappings":"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"}