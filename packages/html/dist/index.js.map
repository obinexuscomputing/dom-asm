{"version":3,"file":"index.js","sources":["../src/tokenizer/index.ts","../src/parser/index.ts","../src/validator/index.ts","../src/optimizer/index.ts","../src/generator/index.ts"],"sourcesContent":[null,null,null,null,null],"names":["HTMLTokenizer","input","position","constructor","this","tokenize","tokens","length","startsWith","push","readComment","readDoctype","readEndTag","readStartTag","readText","value","readUntil","trim","type","name","attributes","attrName","quote","attrValue","RegExp","stop","start","test","substring","slice","HTMLParser","tokenizer","parse","buildAST","root","children","stack","currentParent","token","elementNode","pop","Error","HTMLValidator","validate","ast","errors","traverse","valid","node","match","child","HTMLASTOptimizer","optimize","removeEmptyNodes","mergeTextNodes","filter","i","current","next","splice","HTMLCodeGenerator","selfClosingTags","generateHTML","generateAttributes","map","join","isSelfClosingTag","Object","entries","key","tagName","includes"],"mappings":"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"}