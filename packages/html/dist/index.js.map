{"version":3,"file":"index.js","sources":["../src/tokenizer/HTMLTokenizer.ts","../src/parser/HTMLParser.ts","../src/validator/HTMLValidator.ts","../src/generator/HTMLCodeGenerator.ts","../src/ast/HTMLASTOptimizer.ts"],"sourcesContent":[null,null,null,null,null],"names":["HTMLTokenizer","input","position","line","column","lastTokenEnd","constructor","this","tokenize","tokens","textStart","length","char","peek","textContent","slice","textToken","createTextToken","isTextToken","value","push","tagStart","match","commentToken","readComment","isCommentToken","readDoctype","endTag","readEndTag","getColumnAtPosition","readStartTag","token","type","content","startPos","lastNewline","i","trim","getCurrentLocation","consume","name","readTagName","attributes","selfClosing","skipWhitespace","attrName","readUntil","quote","test","toLowerCase","pos","lastIndexOf","offset","str","startsWith","stop","start","count","result","HTMLParserError","Error","message","super","HTMLParser","tokenizer","options","throwOnError","parse","root","buildAST","metadata","computeMetadata","error","errorHandler","children","nodeCount","elementCount","textCount","commentCount","stack","currentParent","element","handleError","pop","lastToken","traverse","node","forEach","setErrorHandler","handler","HTMLValidator","voidElements","Set","flowContent","metadataContent","defaultOptions","spec","strictMode","allowCustomElements","allowNamespaces","customNamespaces","validate","ast","context","ancestors","inHead","inBody","hasHtml","hasHead","hasBody","hasTitle","contentCategories","errors","warnings","validateNode","validateDocumentStructure","valid","validateElement","updateDocumentContext","prevContext","parentTag","child","validateTagName","validateAttributes","validateContentModel","has","code","includes","namespace","split","isValidHTML5TagName","Object","entries","isValidEventHandler","isValidChild","parent","contentModel","head","body","HTMLCodeGenerator","selfClosingTags","generateHTML","generateAttributes","map","join","isSelfClosingTag","key","tagName","HTMLASTOptimizer","optimize","removeEmptyTextNodes","mergeTextNodes","filter","isSignificantWhitespace","siblings","index","indexOf","prev","next","current","currentText","nextText","needsSpace","endsWith","splice","shouldPreserveWhitespace","text","isLast"],"mappings":"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"}