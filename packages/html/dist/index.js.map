{"version":3,"file":"index.js","sources":["../src/tokenizer/index.ts","../src/parser/index.ts","../src/validator/index.ts","../src/optimizer/index.ts","../src/generator/index.ts"],"sourcesContent":[null,null,null,null,null],"names":["HTMLTokenizer","input","position","line","column","constructor","this","tokenize","tokens","length","peek","match","push","readComment","readDoctype","readEndTag","readStartTag","readText","getCurrentLocation","consume","value","readUntil","trim","type","name","toLowerCase","attributes","selfClosing","skipWhitespace","attrName","quote","attrValue","stop","result","matches","offset","str","startsWith","pattern","slice","test","count","i","char","HTMLParser","tokenizer","parse","buildAST","root","children","stack","currentParent","token","elementNode","pop","Error","HTMLValidator","validate","ast","errors","traverse","valid","node","child","HTMLASTOptimizer","optimize","removeEmptyNodes","mergeTextNodes","filter","current","next","splice","HTMLCodeGenerator","selfClosingTags","generateHTML","generateAttributes","map","join","isSelfClosingTag","Object","entries","key","tagName","includes"],"mappings":"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"}