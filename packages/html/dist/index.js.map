{"version":3,"file":"index.js","sources":["../src/tokenizer/HTMLTokenizer.ts","../src/parser/HTMLParser.ts","../src/validator/HTMLValidator.ts","../src/generator/HTMLCodeGenerator.ts","../src/ast/HTMLASTOptimizer.ts"],"sourcesContent":[null,null,null,null,null],"names":["HTMLTokenizer","constructor","input","this","position","line","column","lastTokenEnd","tokenize","tokens","textStart","length","char","peek","textContent","slice","textToken","createTextToken","isTextToken","value","push","tagStart","match","commentToken","readComment","isCommentToken","readDoctype","endTag","readEndTag","getColumnAtPosition","readStartTag","token","type","content","startPos","lastNewline","i","trim","getCurrentLocation","consume","name","readTagName","attributes","selfClosing","skipWhitespace","attrName","readUntil","quote","test","toLowerCase","pos","lastIndexOf","offset","str","startsWith","stop","start","count","result","HTMLParserError","Error","message","super","HTMLParser","options","throwOnError","tokenizer","parse","root","buildAST","metadata","computeMetadata","error","errorHandler","children","nodeCount","elementCount","textCount","commentCount","stack","currentParent","element","handleError","pop","lastToken","traverse","node","forEach","setErrorHandler","handler","HTMLValidator","voidElements","Set","flowContent","metadataContent","defaultOptions","spec","strictMode","allowCustomElements","allowNamespaces","customNamespaces","validate","ast","context","ancestors","inHead","inBody","hasHtml","hasHead","hasBody","hasTitle","contentCategories","errors","warnings","validateNode","validateDocumentStructure","valid","validateElement","updateDocumentContext","prevContext","parentTag","child","validateTagName","validateAttributes","validateContentModel","has","code","includes","namespace","split","isValidHTML5TagName","Object","entries","isValidEventHandler","isValidChild","parent","contentModel","head","body","HTMLCodeGenerator","selfClosingTags","generateHTML","generateAttributes","map","join","isSelfClosingTag","key","tagName","HTMLASTOptimizer","optimize","removeEmptyTextNodes","mergeTextNodes","filter","isSignificantWhitespace","siblings","index","indexOf","prev","next","current","currentText","nextText","needsSpace","endsWith","splice","shouldPreserveWhitespace","text","isLast"],"mappings":"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"}