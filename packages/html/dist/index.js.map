{"version":3,"file":"index.js","sources":["../src/tokenizer/index.ts","../src/parser/index.ts","../src/validator/index.ts","../src/optimizer/index.ts","../src/generator/index.ts"],"sourcesContent":[null,null,null,null,null],"names":["HTMLTokenizer","input","position","constructor","this","tokenize","tokens","length","startsWith","push","readComment","readDoctype","readEndTag","readStartTag","readText","value","readUntil","trim","type","name","attributes","selfClosing","attrName","quote","attrValue","RegExp","stop","start","test","substring","slice","HTMLParser","tokenizer","parse","buildAST","root","children","stack","currentParent","token","elementNode","pop","Error","HTMLValidator","validate","ast","errors","traverse","valid","node","match","child","HTMLASTOptimizer","optimize","removeEmptyNodes","mergeTextNodes","filter","i","current","next","splice","HTMLCodeGenerator","selfClosingTags","generateHTML","generateAttributes","map","join","isSelfClosingTag","Object","entries","key","tagName","includes"],"mappings":"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"}