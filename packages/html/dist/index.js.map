{"version":3,"file":"index.js","sources":["../src/tokenizer/index.ts","../src/parser/index.ts","../src/validator/index.ts","../src/optimizer/index.ts","../src/generator/index.ts"],"sourcesContent":[null,null,null,null,null],"names":["HTMLTokenizer","input","position","line","column","constructor","this","tokenize","tokens","length","peek","match","push","readComment","readDoctype","readEndTag","readStartTag","readText","getCurrentLocation","consume","value","readUntil","trim","type","name","toLowerCase","Error","attributes","selfClosing","skipWhitespace","attrName","quote","attrValue","stop","start","test","slice","offset","str","startsWith","matches","pattern","count","result","i","char","addError","message","console","error","HTMLParser","tokenizer","parse","buildAST","root","children","stack","currentParent","token","elementNode","pop","HTMLValidator","validate","ast","errors","traverse","valid","node","child","HTMLASTOptimizer","optimize","removeEmptyNodes","mergeTextNodes","filter","current","next","splice","HTMLCodeGenerator","selfClosingTags","generateHTML","generateAttributes","map","join","isSelfClosingTag","Object","entries","key","tagName","includes"],"mappings":"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"}