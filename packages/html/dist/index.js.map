{"version":3,"file":"index.js","sources":["../src/tokenizer/index.ts","../src/parser/index.ts","../src/validator/index.ts","../src/optimizer/index.ts","../src/generator/index.ts"],"sourcesContent":[null,null,null,null,null],"names":["HTMLTokenizer","input","position","constructor","this","tokenize","tokens","length","push","readEndTag","readComment","readStartTag","readText","name","readUntil","attributes","attrName","trim","quote","attrValue","RegExp","type","value","stopChar","start","test","slice","HTMLParserError","Error","token","message","super","captureStackTrace","HTMLParser","tokenizer","parse","buildAST","root","children","stack","elementNode","textNode","commentNode","HTMLValidator","validate","ast","errors","traverse","valid","node","match","child","HTMLASTOptimizer","optimize","removeEmptyNodes","mergeTextNodes","filter","i","current","next","splice","HTMLCodeGenerator","selfClosingTags","generateHTML","generateAttributes","map","join","isSelfClosingTag","Object","entries","key","tagName","includes"],"mappings":"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"}