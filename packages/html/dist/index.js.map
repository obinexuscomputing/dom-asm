{"version":3,"file":"index.js","sources":["../src/ast/index.ts","../src/generator/index.ts","../src/optimizer/index.ts","../src/tokenizer/index.ts","../src/validator/index.ts","../src/parser/index.ts"],"sourcesContent":[null,null,null,null,null,null],"names":["AST","root","constructor","this","type","name","children","parent","buildAST","tokens","stack","currentParent","token","elementNode","attributes","push","Error","pop","length","textNode","value","commentNode","getRoot","printAST","node","depth","indent","repeat","console","log","forEach","child","CodeGenerator","generateHTML","generateAttributes","map","join","isSelfClosingTag","Object","entries","key","tagName","includes","ASTOptimizer","optimize","removeEmptyNodes","mergeTextNodes","filter","trim","i","current","next","splice","HTMLTokenizer","input","position","tokenize","readEndTag","readComment","readStartTag","readText","readUntil","attrName","quote","attrValue","RegExp","stopChar","start","test","slice","Validator","namespaceRules","html","attributeRules","validationCache","Map","registerNamespace","namespace","tags","registerAttributes","tag","validateAST","ast","cacheKey","getCacheKey","has","get","errors","traverseAST","result","valid","set","validateElement","split","attr","JSON","stringify","undefined","Parser","tokenizer","astBuilder","validator","parse","validationResult"],"mappings":"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"}