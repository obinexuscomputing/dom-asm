{"version":3,"file":"index.cjs","sources":["../src/ast/index.ts","../src/tokenizer/index.ts","../src/validator/index.ts","../src/optimizer/index.ts","../src/generator/index.ts","../src/parser/index.ts"],"sourcesContent":[null,null,null,null,null,null],"names":["AST","root","constructor","this","type","name","children","parent","buildAST","tokens","stack","currentParent","token","elementNode","attributes","push","Error","pop","length","textNode","value","commentNode","getRoot","printAST","node","depth","indent","repeat","console","log","forEach","child","HTMLTokenizer","input","position","tokenize","readEndTag","readComment","readStartTag","readText","readUntil","attrName","trim","quote","attrValue","RegExp","stopChar","start","test","slice","Validator","namespaceRules","html","attributeRules","validationCache","Map","registerNamespace","namespace","tags","registerAttributes","tag","validateAST","ast","cacheKey","getCacheKey","has","get","errors","traverseAST","result","valid","set","validateElement","tagName","split","includes","attr","Object","entries","JSON","stringify","key","undefined","optimize","removeEmptyNodes","mergeTextNodes","filter","isSelfClosingTag","i","current","next","splice","generateHTML","generateAttributes","map","join","tokenizer","astBuilder","validator","parse","validationResult"],"mappings":"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"}