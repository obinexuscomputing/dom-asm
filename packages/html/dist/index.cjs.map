{"version":3,"file":"index.cjs","sources":["../src/tokenizer/index.ts","../src/optimizer/index.ts","../src/generator/index.ts","../src/parser/index.ts","../src/validator/index.ts"],"sourcesContent":[null,null,null,null,null],"names":["HTMLTokenizer","input","position","line","column","constructor","this","tokenize","tokens","length","peek","match","push","readComment","readDoctype","readEndTag","readStartTag","readText","getCurrentLocation","consume","value","readUntil","trim","type","name","toLowerCase","attributes","selfClosing","skipWhitespace","attrName","quote","attrValue","stop","result","matches","offset","str","startsWith","pattern","slice","test","count","i","char","optimize","ast","removeEmptyNodes","root","mergeTextNodes","node","children","filter","child","current","next","splice","selfClosingTags","generateHTML","generateAttributes","map","join","isSelfClosingTag","Object","entries","key","tagName","includes","tokenizer","parse","buildAST","stack","currentParent","token","elementNode","pop","Error","validate","errors","traverse","valid"],"mappings":"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"}