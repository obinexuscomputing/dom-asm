{"version":3,"file":"index.umd.js","sources":["../../src/types.ts","../../src/tokenizer/JSTokenizer.ts","../../src/parser/JSParser.ts","../../src/validator/JSValidator.ts","../../src/ast/JSAst.ts","../../src/generator/JSAstGenerator.ts","../../src/ast/JSAstMinimizer.ts"],"sourcesContent":[null,null,null,null,null,null,null],"names":["NodeType","JSTokenType","Types","JSTokenizer","constructor","this","keywords","Set","operators","delimiters","tokenize","input","tokens","current","addToken","type","value","push","trim","length","char","has","Delimiter","test","Keyword","Identifier","Literal","multiCharOp","matchMultiCharOperator","slice","Operator","Error","EndOfStatement","find","op","startsWith","JSParser","setTokens","parse","children","node","walk","error","Program","body","token","parseKeyword","parseIfStatement","parseFunctionDeclaration","parseVariableDeclaration","condition","consequence","alternate","IfStatement","identifier","parameters","param","parseBlockStatement","FunctionDeclaration","keyword","initializer","VariableDeclaration","BlockStatement","JSValidator","errors","validate","ast","traverse","addError","code","message","includes","validateProgram","validateVariableDeclaration","validateBlockStatement","validateArrowFunction","validateTemplateLiteral","validateClass","validateMethodDefinition","validateAsyncFunction","validateObjectExpression","validateProperty","validateImport","validateExport","validateInlineConstant","validateIdentifier","validateLiteral","child","some","properties","forEach","prop","add","position","currentToken","consumeToken","peekToken","parseProgram","program","statement","parseStatement","equals","semicolon","buildAST","tokenizer","validator","parser","convertToTypedNode","nodeType","map","line","column","generateFromSource","source","options","rawAst","typedAst","processAST","err","success","undefined","generateFromAST","result","validationErrors","convertValidationErrors","generateCode","location","codeParts","traverseAST","rawCode","join","formatOutput","BinaryExpression","format","formatCompact","formatPretty","indent","replace","segments","split","filter","Boolean","level","segment","trimmed","Math","max","repeat","trimEnd","uniqueNodes","Map","minimize","clear","optimize","key","get","processedNode","performOptimization","set","simplifyNode","InlineConstant","Object","values"],"mappings":"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"}