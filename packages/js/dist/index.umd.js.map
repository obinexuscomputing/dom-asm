{"version":3,"file":"index.umd.js","sources":["../../src/tokenizer/JSTokenizer.ts","../../src/ast/JSAst.ts","../../src/validator/JSValidator.ts","../../src/parser/JSParser.ts","../../src/ast/JSAstMinimzer.ts","../../src/generator/JSAstGenerator.ts"],"sourcesContent":[null,null,null,null,null,null],"names":["JSTokenType","JSTokenizer","keywords","Set","operators","delimiters","tokenize","input","tokens","current","addToken","type","value","push","trim","length","char","this","has","Delimiter","test","Keyword","Identifier","Literal","remainingInput","slice","multiCharOp","matchMultiCharOperator","Operator","Error","EndOfStatement","find","op","startsWith","JSASTBuilder","position","constructor","currentToken","consumeToken","peekToken","parseProgram","program","children","statement","parseStatement","token","parseVariableDeclaration","identifier","equals","semicolon","buildAST","JSValidator","errors","validate","ast","traverse","addError","code","message","node","includes","validateProgram","validateVariableDeclaration","validateBlockStatement","validateArrowFunction","validateTemplateLiteral","validateClass","validateMethodDefinition","validateAsyncFunction","validateObjectExpression","validateProperty","validateImport","validateExport","validateInlineConstant","validateIdentifier","validateLiteral","child","some","properties","forEach","prop","add","JSParser","parse","parseExpression","parseInlineConstant","parseBinaryExpression","parseBlockStatement","parseIfStatement","parseFunctionDeclaration","parseReturnStatement","map","filter","result","childResults","join","trimEnd","leftChild","rightChild","operator","condition","thenBranch","elseBranch","name","body","expression","uniqueNodes","Map","minimize","clear","optimize","key","get","processedNode","performOptimization","set","simplifyNode","tokenizer","validator","parser","generateFromSource","source","options","validationErrors","success","convertValidationErrors","generateCode","err","generateFromAST","error","location","line","column","rawOutput","Array","isArray","formatOutput","format","formatCompact","formatPretty","indent","replace","level","lines","split","trimmedLine","endsWith","Math","max","repeat"],"mappings":"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"}