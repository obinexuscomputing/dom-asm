{"version":3,"file":"index.umd.js","sources":["../../../src/tokenizer/index.ts","../../../src/ast/index.ts","../../../src/optimizer/index.ts"],"sourcesContent":[null,null,null],"names":["TokenType","build","tokens","root","type","children","current","walk","token","Literal","value","Identifier","Keyword","identifier","Error","EndOfStatement","length","push","optimize","ast","simplify","node","map","constructor","this","keywords","Set","operators","delimiters","singleCharDelimiters","previousToken","isNumericStart","char","test","isValidNumber","match","parts","split","base","exponent","cleanExponent","replace","readNumber","input","start","number","hasDot","hasExponent","nextChar","readMultilineComment","depth","readTemplateLiteral","includes","braceCount","expressionStart","slice","readOperator","operator","maxOperator","has","readIdentifier","shouldAddSemicolon","Delimiter","Comment","TemplateLiteral","some","indexOf","tokenize","addToken","endsWith","newCurrent","operatorLength","Operator"],"mappings":"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"}