{"version":3,"file":"index.js","sources":["../../src/tokenizer/index.ts","../../src/ast/index.ts","../../src/optimizer/index.ts"],"sourcesContent":[null,null,null],"names":["TokenType","Tokenizer","constructor","this","keywords","Set","operators","delimiters","singleCharDelimiters","previousToken","isValidOperatorChar","char","test","tokenize","input","tokens","current","addToken","type","value","push","shouldAddSemicolon","Delimiter","Comment","TemplateLiteral","some","token","indexOf","length","readNumber","number","hasDot","hasE","Error","next","endsWith","readOperator","operator","maxOperator","tempCurrent","has","lookahead","slice","startsWith","Operator","identifier","Keyword","Identifier","Literal","template","braceCount","comment","depth","EndOfStatement","ASTBuilder","build","root","children","walk","ASTOptimizer","optimize","ast","simplify","node","map"],"mappings":"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"}