{"version":3,"file":"index.js","sources":["../src/tokenizer/index.ts","../src/ast/index.ts","../src/optimizer/index.ts","../src/validator/index.ts","../src/generator/index.ts","../src/parser/index.ts"],"sourcesContent":[null,null,null,null,null,null],"names":["JSTokenType","JSTokenizer","keywords","Set","operators","singleCharDelimiters","previousToken","constructor","shouldAddSemicolon","tokens","this","type","Delimiter","some","token","value","tokenize","input","current","addToken","push","length","char","test","Comment","Literal","has","Keyword","Identifier","operator","slice","Operator","Error","EndOfStatement","JSASTBuilder","position","currentToken","consumeToken","parseProgram","program","children","statement","parseStatement","parseVariableDeclaration","identifier","equals","buildAST","JSASTOptimizer","optimize","ast","simplify","node","map","JSValidator","errors","validate","traverse","validateProgram","validateVariableDeclaration","validateInlineConstant","validateIdentifier","validateLiteral","child","JSCodeGenerator","generate","join","find","JSParser","parse"],"mappings":"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"}