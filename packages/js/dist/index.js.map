{"version":3,"file":"index.js","sources":["../../src/tokenizer/JSTokenizer.ts","../../src/ast/JSAst.ts","../../src/ast/JSAstMinimzer.ts","../../src/generator/JSAstGenerator.ts","../../src/validator/JSValidator.ts","../../src/parser/JSParser.ts"],"sourcesContent":[null,null,null,null,null,null],"names":["JSTokenType","JSTokenizer","keywords","Set","operators","delimiters","tokenize","input","tokens","current","addToken","type","value","push","trim","length","char","this","has","Delimiter","test","Keyword","Identifier","Literal","remainingInput","slice","multiCharOp","matchMultiCharOperator","Operator","Error","EndOfStatement","find","op","startsWith","JSASTBuilder","position","constructor","currentToken","consumeToken","peekToken","parseProgram","program","children","statement","parseStatement","token","parseVariableDeclaration","identifier","equals","semicolon","buildAST","JSAstMinimizer","uniqueNodes","Map","minimize","ast","clear","traverse","optimize","node","key","get","processedNode","map","child","performOptimization","set","simplifyNode","JSAstGenerator","generate","join","JSValidator","errors","validate","addError","code","message","validateProgram","validateVariableDeclaration","validateInlineConstant","validateIdentifier","validateLiteral","validateArrowFunction","validateTemplateLiteral","validateObjectExpression","validateArrayExpression","validateSpreadElement","validateDestructuring","validateImport","validateExport","validateClass","validateAsyncFunction","validateAwaitExpression","defaultExports","filter","includes","params","body","forEach","expression","properties","prop","add","validateProperty","validateMethodDefinition","validatePropertyDefinition","element","JSParser","parse","parseExpression","parseInlineConstant","parseBinaryExpression","parseBlockStatement","parseIfStatement","parseFunctionDeclaration","parseReturnStatement","result","childResults","trimEnd","leftChild","rightChild","operator","condition","thenBranch","elseBranch","name"],"mappings":"AAAA,IAAYA,GAAZ,SAAYA,GACVA,EAAA,QAAA,UACAA,EAAA,WAAA,aACAA,EAAA,SAAA,WACAA,EAAA,UAAA,YACAA,EAAA,QAAA,UACAA,EAAA,gBAAA,kBACAA,EAAA,QAAA,UACAA,EAAA,eAAA,gBACD,CATD,CAAYA,IAAAA,EASX,CAAA,UAOYC,EACHC,SAAW,IAAIC,IAAI,CAAC,QAAS,MAAO,MAAO,KAAM,OAAQ,WAAY,WACrEC,UAAY,IAAID,IAAI,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,MAAO,MAAO,IAAK,IAAK,KAAM,OACjFE,WAAa,IAAIF,IAAI,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,MAEhD,QAAAG,CAASC,GACd,MAAMC,EAAoB,GAC1B,IAAIC,EAAU,EAEd,MAAMC,EAAW,CAACC,EAAmBC,KACnCJ,EAAOK,KAAK,CAAEF,OAAMC,SAAQ,EAM9B,IAFAL,EAAQA,EAAMO,OAEPL,EAAUF,EAAMQ,QAAQ,CAC7B,MAAMC,EAAOT,EAAME,GAGnB,GAAIQ,KAAKZ,WAAWa,IAAIF,GAAO,CAC7BN,EAASV,EAAYmB,UAAWH,GAChCP,IACA,SAIF,GAAI,KAAKW,KAAKJ,GAAO,CACnBP,IACA,SAIF,GAAa,MAATO,EAAc,CAChBN,EAASV,EAAYmB,UAAWH,GAChCP,IACA,SAIF,GAAI,aAAaW,KAAKJ,GAAO,CAC3B,IAAIJ,EAAQ,GACZ,KAAOH,EAAUF,EAAMQ,QAAU,gBAAgBK,KAAKb,EAAME,KAC1DG,GAASL,EAAME,KAEbQ,KAAKf,SAASgB,IAAIN,GACpBF,EAASV,EAAYqB,QAAST,GAE9BF,EAASV,EAAYsB,WAAYV,GAEnC,SAIF,GAAI,QAAQQ,KAAKJ,GAAO,CACtB,IAAIJ,EAAQ,GACZ,KAAOH,EAAUF,EAAMQ,QAAU,SAASK,KAAKb,EAAME,KACnDG,GAASL,EAAME,KAEjBC,EAASV,EAAYuB,QAASX,GAC9B,SAIF,MAAMY,EAAiBjB,EAAMkB,MAAMhB,GAC7BiB,EAAcT,KAAKU,uBAAuBH,GAChD,GAAIE,EACFhB,EAASV,EAAY4B,SAAUF,GAC/BjB,GAAWiB,EAAYX,WAFzB,CAOA,IAAIE,KAAKb,UAAUc,IAAIF,GAOvB,MAAM,IAAIa,MAAM,yBAAyBb,KANvCN,EAASV,EAAY4B,SAAUZ,GAC/BP,KAUJ,OADAC,EAASV,EAAY8B,eAAgB,OAC9BtB,EAGD,sBAAAmB,CAAuBpB,GAE7B,MAD2B,CAAC,MAAO,MAAO,KAAM,MACtBwB,MAAKC,GAAMzB,EAAM0B,WAAWD,MAAQ,YCjGrDE,EACH1B,OACA2B,SAER,WAAAC,CAAY5B,GACVS,KAAKT,OAASA,EACdS,KAAKkB,SAAW,EAGV,YAAAE,GACN,OAAOpB,KAAKkB,SAAWlB,KAAKT,OAAOO,OAASE,KAAKT,OAAOS,KAAKkB,UAAY,KAGnE,YAAAG,GACN,GAAIrB,KAAKkB,UAAYlB,KAAKT,OAAOO,OAC/B,MAAM,IAAIc,MAAM,2BAElB,OAAOZ,KAAKT,OAAOS,KAAKkB,YAGlB,SAAAI,GACN,OAAOtB,KAAKkB,SAAW,EAAIlB,KAAKT,OAAOO,OAASE,KAAKT,OAAOS,KAAKkB,SAAW,GAAK,KAG3E,YAAAK,GACN,MAAMC,EAAqB,CAAE9B,KAAM,UAAW+B,SAAU,IACxD,KAAOzB,KAAKkB,SAAWlB,KAAKT,OAAOO,OAAS,GAAG,CAC7C,MAAM4B,EAAY1B,KAAK2B,iBACnBD,GACFF,EAAQC,SAAU7B,KAAK8B,GAG3B,OAAOF,EAID,cAAAG,GACN,MAAMC,EAAQ5B,KAAKoB,eAEnB,IAAKQ,EACH,OAAO,KAGT,GAAIA,EAAMlC,OAASX,EAAYqB,SAA2B,UAAhBwB,EAAMjC,MAC9C,OAAOK,KAAK6B,2BAGd,MAAM,IAAIjB,MAAM,qBAAqBgB,EAAMjC,SAGrC,wBAAAkC,GACN7B,KAAKqB,eAEL,MAAMS,EAAa9B,KAAKqB,eACxB,IAAKS,GAAcA,EAAWpC,OAASX,EAAYsB,WACjD,MAAM,IAAIO,MAAM,qCAGlB,MAAMmB,EAAS/B,KAAKqB,eACpB,IAAKU,GAAUA,EAAOrC,OAASX,EAAY4B,UAA6B,MAAjBoB,EAAOpC,MAC5D,MAAM,IAAIiB,MAAM,iCAGlB,MAAMjB,EAAQK,KAAKqB,eACnB,IAAK1B,GAASA,EAAMD,OAASX,EAAYuB,QACvC,MAAM,IAAIM,MAAM,oCAGlB,MAAMoB,EAAYhC,KAAKqB,eACvB,IAAKW,GAAaA,EAAUtC,OAASX,EAAYmB,WAAiC,MAApB8B,EAAUrC,MACtE,MAAM,IAAIiB,MAAM,4BAGlB,MAAO,CACLlB,KAAM,sBACN+B,SAAU,CACR,CAAE/B,KAAM,aAAcC,MAAOmC,EAAWnC,MAAO8B,SAAU,IACzD,CAAE/B,KAAM,UAAWC,MAAOA,EAAMA,MAAO8B,SAAU,MAKhD,QAAAQ,GACL,OAAOjC,KAAKuB,sBC1FHW,EACHC,YAAc,IAAIC,IAEnB,QAAAC,CAASC,GAId,OAFAtC,KAAKmC,YAAYI,QAEVvC,KAAKwC,SAASF,GAGhB,QAAAG,CAASH,GACd,OAAOtC,KAAKwC,SAASF,GAAK,GAGpB,QAAAE,CAASE,EAAiBD,GAAoB,GAEpD,MAAME,EAAM,GAAGD,EAAKhD,QAAQgD,EAAK/C,OAAS,KAG1C,GAAIK,KAAKmC,YAAYlC,IAAI0C,GACvB,OAAO3C,KAAKmC,YAAYS,IAAID,GAI9B,IAAIE,EAA2B,IAAKH,GAgBpC,OAbIA,EAAKjB,WACPoB,EAAcpB,SAAWiB,EAAKjB,SAASqB,KAAKC,GAC1C/C,KAAKwC,SAASO,EAAON,MAKrBA,IACFI,EAAgB7C,KAAKgD,oBAAoBH,IAI3C7C,KAAKmC,YAAYc,IAAIN,EAAKE,GACnBA,EAGD,mBAAAG,CAAoBN,GAE1B,GAAkB,YAAdA,EAAKhD,KACP,MAAO,IACFgD,EACHjB,SAAUiB,EAAKjB,UAAUqB,IAAI9C,KAAKkD,eAAiB,IAKvD,GAAkB,wBAAdR,EAAKhD,MAAkCgD,EAAKjB,SAAU,CACxD,MAAOK,EAAYnC,GAAS+C,EAAKjB,SAEjC,GAAmB,YAAf9B,EAAMD,KACR,MAAO,CACLA,KAAM,iBACNC,MAAO,GAAGmC,EAAWnC,SAASA,EAAMA,QACpC8B,SAAU,IAKhB,OAAOiB,EAGD,YAAAQ,CAAaR,GAEnB,OAAIA,EAAKhD,KACAgD,SCvEAS,EACJ,QAAAC,CAASd,GACd,GAAiB,YAAbA,EAAI5C,KACN,OAAO4C,EAAIb,UAAUqB,KAAKC,GAAqB/C,KAAKoD,SAASL,KAAQM,KAAK,OAAS,GAGrF,GAAiB,wBAAbf,EAAI5C,KAAgC,CACtC,MAAMoC,EAAaQ,EAAIb,UAAUX,MAAMiC,GAAoC,eAAfA,EAAMrD,OAC5DC,EAAQ2C,EAAIb,UAAUX,MAAMiC,GAAoC,YAAfA,EAAMrD,OAC7D,MAAO,SAASoC,GAAYnC,WAAWA,GAAOA,SAGhD,MAAiB,mBAAb2C,EAAI5C,KACC,SAAS4C,EAAI3C,SAGf2C,EAAI3C,OAAS,UCVX2D,EACHC,OAER,WAAApC,GACEnB,KAAKuD,OAAS,GAGT,QAAAC,CAASlB,GAGd,OAFAtC,KAAKuD,OAAS,GACdvD,KAAKwC,SAASF,GACPtC,KAAKuD,OAGN,QAAAE,CAASC,EAAcC,EAAiBjB,GAC9C1C,KAAKuD,OAAO3D,KAAK,CAAE8D,OAAMC,UAASjB,SAG5B,QAAAF,CAASE,GACf,OAAQA,EAAKhD,MACX,IAAK,UACHM,KAAK4D,gBAAgBlB,GACrB,MACF,IAAK,sBACH1C,KAAK6D,4BAA4BnB,GACjC,MACF,IAAK,iBACH1C,KAAK8D,uBAAuBpB,GAC5B,MACF,IAAK,aACH1C,KAAK+D,mBAAmBrB,GACxB,MACF,IAAK,UACH1C,KAAKgE,gBAAgBtB,GACrB,MACF,IAAK,gBACH1C,KAAKiE,sBAAsBvB,GAC3B,MACF,IAAK,kBACH1C,KAAKkE,wBAAwBxB,GAC7B,MACF,IAAK,mBACH1C,KAAKmE,yBAAyBzB,GAC9B,MACF,IAAK,kBACH1C,KAAKoE,wBAAwB1B,GAC7B,MACF,IAAK,gBACH1C,KAAKqE,sBAAsB3B,GAC3B,MACF,IAAK,uBACH1C,KAAKsE,sBAAsB5B,GAC3B,MACF,IAAK,oBACH1C,KAAKuE,eAAe7B,GACpB,MACF,IAAK,oBACH1C,KAAKwE,eAAe9B,GACpB,MACF,IAAK,mBACH1C,KAAKyE,cAAc/B,GACnB,MACF,IAAK,gBACH1C,KAAK0E,sBAAsBhC,GAC3B,MACF,IAAK,kBACH1C,KAAK2E,wBAAwBjC,GAC7B,MACF,QACE1C,KAAKyD,SAAS,OAAQ,sBAAsBf,EAAKhD,OAAQgD,GAG7D,GAAIA,EAAKjB,SACP,IAAK,MAAMsB,KAASL,EAAKjB,SACvBzB,KAAKwC,SAASO,GAKZ,eAAAa,CAAgBlB,GACjBA,EAAKjB,UAAU3B,QAClBE,KAAKyD,SAAS,OAAQ,+CAAgDf,GAIxE,MAAMkC,EAAiBlC,EAAKjB,UAAUoD,QACpC9B,GAAwB,sBAAfA,EAAMrD,MAAgD,YAAhBqD,EAAMpD,QAEnDiF,GAAkBA,EAAe9E,OAAS,GAC5CE,KAAKyD,SAAS,OAAQ,4CAA6Cf,GAI/D,2BAAAmB,CAA4BnB,GAClC,IAAKA,EAAKjB,UAAU3B,OAElB,YADAE,KAAKyD,SAAS,OAAQ,sDAAuDf,GAK1EA,EAAK/C,OAAU,CAAC,MAAO,QAAS,OAAOmF,SAASpC,EAAK/C,QACxDK,KAAKyD,SAAS,OAAQ,+DAAgEf,GAIxF,MAAMZ,EAAaY,EAAKjB,SAAS,GACT,yBAApBK,EAAWpC,KACbM,KAAKsE,sBAAsBxC,GACE,eAApBA,EAAWpC,MACpBM,KAAKyD,SAAS,OAAQ,6EAA8Ef,GAIhG,qBAAAuB,CAAsBvB,GAC5B,IAAKA,EAAKjB,UAAU3B,OAElB,YADAE,KAAKyD,SAAS,OAAQ,mCAAoCf,GAK5D,MAAMqC,EAASrC,EAAKjB,SAAS,GACT,yBAAhBsD,EAAOrF,MACTM,KAAKsE,sBAAsBS,GAI7B,MAAMC,EAAOtC,EAAKjB,SAASiB,EAAKjB,SAAS3B,OAAS,KAC7CkF,GAAuB,mBAAdA,EAAKtF,MAA2C,eAAdsF,EAAKtF,OACnDM,KAAKyD,SAAS,OAAQ,yCAA0Cf,GAI5D,uBAAAwB,CAAwBxB,GAC9BA,EAAKjB,UAAUwD,SAAQC,IACG,8BAApBA,EAAWxF,OACRwF,EAAWvF,OAAUuF,EAAWzD,UAAU3B,QAC7CE,KAAKyD,SAAS,OAAQ,iDAAkDyB,OAMxE,wBAAAf,CAAyBzB,GAC/B,MAAMyC,EAAa,IAAIjG,IAEvBwD,EAAKjB,UAAUwD,SAAQG,IAEH,aAAdA,EAAK1F,MAAuB0F,EAAKzF,QAC/BwF,EAAWlF,IAAImF,EAAKzF,QACtBK,KAAKyD,SAAS,OAAQ,kBAAkB2B,EAAKzF,4BAA6ByF,GAE5ED,EAAWE,IAAID,EAAKzF,QAIJ,aAAdyF,EAAK1F,MACPM,KAAKsF,iBAAiBF,MAKpB,gBAAAE,CAAiB5C,GACJ,aAAfA,EAAK/C,OAAyB+C,EAAKjB,UAAU3B,QAC/CE,KAAKyD,SAAS,OAAQ,kDAAmDf,GAGxD,WAAfA,EAAK/C,OAAuB+C,EAAKjB,UAAUX,MAAKiC,GAAwB,uBAAfA,EAAMrD,QACjEM,KAAKyD,SAAS,OAAQ,mDAAoDf,GAItE,qBAAA4B,CAAsB5B,GACvBA,EAAKjB,UAAU3B,OAMpB4C,EAAKjB,SAASwD,SAAQlC,IACD,sBAAfA,EAAMrD,OACHqD,EAAMtB,UAAU3B,QACnBE,KAAKyD,SAAS,OAAQ,sDAAuDV,OARjF/C,KAAKyD,SAAS,OAAQ,2CAA4Cf,GAc9D,aAAA+B,CAAc/B,GACfA,EAAK/C,OACRK,KAAKyD,SAAS,OAAQ,sCAAuCf,GAI/DA,EAAKjB,UAAUwD,SAAQlC,IACF,qBAAfA,EAAMrD,KACRM,KAAKuF,yBAAyBxC,GACN,uBAAfA,EAAMrD,MACfM,KAAKwF,2BAA2BzC,MAK9B,wBAAAwC,CAAyB7C,GAC1BA,EAAK/C,OACRK,KAAKyD,SAAS,OAAQ,iCAAkCf,GAGvC,gBAAfA,EAAK/C,OAA2B+C,EAAKjB,UAAUX,MAAKiC,GAAwB,kBAAfA,EAAMrD,QACrEM,KAAKyD,SAAS,OAAQ,+BAAgCf,GAIlD,0BAAA8C,CAA2B9C,GAC5BA,EAAK/C,OAAU+C,EAAKjB,UAAUX,MAAKiC,GAAwB,yBAAfA,EAAMrD,QACrDM,KAAKyD,SAAS,OAAQ,kDAAmDf,GAIrE,qBAAAgC,CAAsBhC,GACvBA,EAAKjB,UAAUX,MAAKiC,GAAwB,mBAAfA,EAAMrD,QACtCM,KAAKyD,SAAS,OAAQ,mCAAoCf,GAItD,uBAAAiC,CAAwBjC,GACzBA,EAAKjB,UAAU3B,QAClBE,KAAKyD,SAAS,OAAQ,0CAA2Cf,GAI7D,cAAA6B,CAAe7B,GAChBA,EAAKjB,UAAU3B,QAClBE,KAAKyD,SAAS,OAAQ,6DAA8Df,GAIhF,cAAA8B,CAAe9B,GAChBA,EAAKjB,UAAU3B,QAAW4C,EAAK/C,OAClCK,KAAKyD,SAAS,OAAQ,gDAAiDf,GAInE,qBAAA2B,CAAsB3B,GACvBA,EAAKjB,UAAU3B,QAClBE,KAAKyD,SAAS,OAAQ,wCAAyCf,GAI3D,uBAAA0B,CAAwB1B,GAE9BA,EAAKjB,UAAUwD,SAAQQ,IACA,kBAAjBA,EAAQ/F,MACVM,KAAKqE,sBAAsBoB,MAMzB,sBAAA3B,CAAuBpB,GACxBA,EAAK/C,OACRK,KAAKyD,SAAS,OAAQ,oCAAqCf,GAIvD,kBAAAqB,CAAmBrB,GACpBA,EAAK/C,OAAU,6BAA6BQ,KAAKuC,EAAK/C,QACzDK,KAAKyD,SAAS,OAAQ,4BAA4Bf,EAAK/C,QAAS+C,GAI5D,eAAAsB,CAAgBtB,GACjBA,EAAK/C,OACRK,KAAKyD,SAAS,OAAQ,6BAA8Bf,UCjQ7CgD,EACX,KAAAC,CAAMrD,GACJ,OAAQA,EAAI5C,MACV,IAAK,UACH,OAAOM,KAAKuB,aAAae,GAC3B,IAAK,YACH,OAAOtC,KAAK2B,eAAeW,GAC7B,IAAK,aACH,OAAOtC,KAAK4F,gBAAgBtD,GAC9B,IAAK,sBACH,OAAOtC,KAAK6B,yBAAyBS,GACvC,IAAK,iBACH,OAAOtC,KAAK6F,oBAAoBvD,GAClC,IAAK,mBACH,OAAOtC,KAAK8F,sBAAsBxD,GACpC,IAAK,iBACH,OAAOtC,KAAK+F,oBAAoBzD,GAClC,IAAK,cACH,OAAOtC,KAAKgG,iBAAiB1D,GAC/B,IAAK,sBACH,OAAOtC,KAAKiG,yBAAyB3D,GACvC,IAAK,kBACH,OAAOtC,KAAKkG,qBAAqB5D,GACnC,QACE,OAAOA,EAAI3C,OAAS,IAIlB,YAAA4B,CAAae,GACnB,OAAOA,EAAIb,UAAUqB,KAAIC,GAAS/C,KAAK2F,MAAM5C,KAC1C8B,QAAQsB,GAAwC,OAAXA,KAAoB,GAGtD,cAAAxE,CAAeW,GACrB,GAAIA,EAAI3C,MACN,OAAO2C,EAAI3C,MAEb,MAAMyG,EAAe9D,EAAIb,UAAUqB,KAAIC,GAAS/C,KAAK2F,MAAM5C,KACxD8B,QAAQsB,GAAwC,OAAXA,IACxC,OAAOC,GAActG,OACnB,cAAcsG,EAAa/C,KAAK,QAChC,cAGI,eAAAuC,CAAgBtD,GACtB,GAAIA,EAAI3C,MACN,OAAO2C,EAAI3C,MAEb,MAAMyG,EAAe9D,EAAIb,UAAUqB,KAAIC,GAAS/C,KAAK2F,MAAM5C,KACxD8B,QAAQsB,GAAwC,OAAXA,IACxC,OAAOC,GAActG,OACnB,eAAesG,EAAa/C,KAAK,OACjC,eAGI,wBAAAxB,CAAyBS,GAC/B,MAAM8D,EAAe9D,EAAIb,UAAUqB,KAAIC,GAAS/C,KAAK2F,MAAM5C,KACxD8B,QAAQsB,GAAwC,OAAXA,IACxC,MAAO,WAAWC,GAAc/C,KAAK,MAAQ,KAAKgD,UAG5C,mBAAAR,CAAoBvD,GAC1B,MAAO,UAAUA,EAAI3C,OAAS,KAAK0G,UAG7B,qBAAAP,CAAsBxD,GAC5B,MAAMgE,EAAYhE,EAAIb,WAAW,GAC3B8E,EAAajE,EAAIb,WAAW,GAC5B+E,EAAWlE,EAAI3C,MAKrB,MAAO,IAHM2G,EAAYtG,KAAK2F,MAAMW,GAAa,MAG9BE,KAFLD,EAAavG,KAAK2F,MAAMY,GAAc,MAEZF,UAGlC,mBAAAN,CAAoBzD,GAC1B,MAAM8D,EAAe9D,EAAIb,UAAUqB,KAAIC,GAAS/C,KAAK2F,MAAM5C,KACxD8B,QAAQsB,GAAwC,OAAXA,IACxC,MAAO,IAAIC,GAActG,OAAS,IAAMsG,EAAa/C,KAAK,MAAQ,IAAM,OAGlE,gBAAA2C,CAAiB1D,GACvB,MAAOmE,EAAWC,EAAYC,GAAcrE,EAAIb,UAAY,GAM5D,MAAO,OAJcgF,EAAYzG,KAAK2F,MAAMc,GAAa,OACzCC,EAAa1G,KAAK2F,MAAMe,GAAc,KACtCC,EAAa,SAAS3G,KAAK2F,MAAMgB,KAAgB,KAK3D,wBAAAV,CAAyB3D,GAC/B,MAAMsE,EAAOtE,EAAI3C,MACXqF,EAAO1C,EAAIb,WAAW,GAG5B,MAAO,YAAYmF,GAAQ,MAFX5B,EAAOhF,KAAK2F,MAAMX,GAAQ,KAECqB,UAGrC,oBAAAH,CAAqB5D,GAC3B,MAAM4C,EAAa5C,EAAIb,WAAW,GAGlC,MAAO,UAFSyD,EAAalF,KAAK2F,MAAMT,GAAc,KAE3BmB"}