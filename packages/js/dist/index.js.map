{"version":3,"file":"index.js","sources":["../../src/types.ts","../../src/tokenizer/JSTokenizer.ts","../../src/parser/JSParser.ts","../../src/validator/JSValidator.ts","../../src/generator/JSAstGenerator.ts"],"sourcesContent":[null,null,null,null,null],"names":["NodeType","JSTokenType","Types","JSTokenizer","keywords","Set","operators","delimiters","tokenize","input","tokens","current","addToken","type","value","push","trim","length","char","this","has","Delimiter","test","Keyword","Identifier","Literal","multiCharOp","matchMultiCharOperator","slice","Operator","Error","EndOfStatement","find","op","startsWith","JSParser","constructor","setTokens","parse","children","node","walk","Program","body","token","parseKeyword","parseIfStatement","parseFunctionDeclaration","parseVariableDeclaration","condition","consequence","alternate","IfStatement","identifier","parameters","param","parseBlockStatement","FunctionDeclaration","keyword","initializer","VariableDeclaration","BlockStatement","JSValidator","errors","validate","ast","traverse","addError","code","message","includes","validateProgram","validateVariableDeclaration","validateBlockStatement","validateArrowFunction","validateTemplateLiteral","validateClass","validateMethodDefinition","validateAsyncFunction","validateObjectExpression","validateProperty","validateImport","validateExport","validateInlineConstant","validateIdentifier","validateLiteral","child","some","properties","forEach","prop","add","JSAstGenerator","tokenizer","validator","parser","convertToTypedNode","nodeType","map","line","column","generateFromSource","source","options","rawAst","typedAst","processAST","err","success","undefined","generateFromAST","result","validationErrors","convertValidationErrors","generateCode","error","location","codeParts","traverseAST","rawCode","join","formatOutput","BinaryExpression","format","formatCompact","formatPretty","indent","replace","segments","split","filter","Boolean","level","segment","trimmed","Math","max","repeat","trimEnd"],"mappings":"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"}