{"version":3,"file":"index.js","sources":["../../src/tokenizer/index.ts","../../src/ast/index.ts","../../src/optimizer/index.ts"],"sourcesContent":[null,null,null],"names":["TokenType","Tokenizer","constructor","this","keywords","Set","operators","delimiters","singleCharDelimiters","previousToken","isNumericStart","char","test","isValidNumber","value","match","length","parts","split","base","exponent","cleanExponent","replace","tokenize","input","tokens","current","addToken","type","push","shouldAddSemicolon","Delimiter","Comment","TemplateLiteral","some","token","indexOf","readNumber","number","hasDot","hasExponent","Error","nextChar","endsWith","slice","depth","includes","braceCount","start","Literal","has","operator","maxOperator","tempCurrent","Operator","Keyword","Identifier","EndOfStatement","ASTBuilder","build","root","children","walk","identifier","ASTOptimizer","optimize","ast","simplify","node","map"],"mappings":"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"}