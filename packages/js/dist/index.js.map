{"version":3,"file":"index.js","sources":["../../src/tokenizer/index.ts","../../src/ast/index.ts","../../src/optimizer/index.ts"],"sourcesContent":[null,null,null],"names":["TokenType","Tokenizer","constructor","this","keywords","Set","operators","delimiters","singleCharDelimiters","previousToken","isValidOperatorChar","char","test","tokenize","input","tokens","current","addToken","type","value","push","shouldAddSemicolon","Delimiter","Comment","TemplateLiteral","some","token","indexOf","length","readOperator","operator","tempCurrent","maxOperator","has","Error","Operator","identifier","Keyword","Identifier","number","Literal","template","depth","braceDepth","comment","EndOfStatement","ASTBuilder","build","root","children","walk","ASTOptimizer","optimize","ast","simplify","node","map"],"mappings":"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"}