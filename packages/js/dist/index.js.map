{"version":3,"file":"index.js","sources":["../src/tokenizer/index.ts","../src/ast/index.ts","../src/optimizer/index.ts","../src/generator/index.ts","../src/parser/index.ts"],"sourcesContent":[null,null,null,null,null],"names":["TokenType","Tokenizer","keywords","Set","operators","delimiters","singleCharDelimiters","previousToken","isNumericStart","char","test","isValidNumber","value","match","length","parts","split","base","exponent","this","cleanExponent","replace","readNumber","input","start","current","number","hasDot","hasExponent","Error","nextChar","readMultilineComment","depth","readTemplateLiteral","includes","braceCount","expressionStart","slice","readOperator","operator","maxOperator","has","readIdentifier","shouldAddSemicolon","tokens","type","Delimiter","Comment","TemplateLiteral","some","token","indexOf","tokenize","addToken","push","endsWith","newCurrent","Literal","operatorLength","Operator","Identifier","Keyword","EndOfStatement","JSASTBuilder","position","constructor","currentToken","consumeToken","parseProgram","program","children","statement","parseStatement","parseVariableDeclaration","parseInlineConstant","identifier","equals","parseValue","buildAST","ASTOptimizer","optimize","ast","simplify","node","map","JSCodeGenerator","generate","child","join","selector","find","declarations","filter","declaration","property","JSParser","parse"],"mappings":"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"}