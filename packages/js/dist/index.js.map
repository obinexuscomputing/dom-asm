{"version":3,"file":"index.js","sources":["../src/tokenizer/index.ts","../src/ast/index.ts","../src/optimizer/index.ts","../src/validator/index.ts","../src/generator/index.ts","../src/parser/index.ts"],"sourcesContent":[null,null,null,null,null,null],"names":["JSTokenType","JSTokenizer","keywords","Set","operators","singleCharDelimiters","previousToken","constructor","shouldAddSemicolon","tokens","this","type","Delimiter","some","token","value","readOperator","input","start","operator","maxOperator","current","length","test","has","Error","tokenize","addToken","push","char","Comment","Literal","Keyword","Identifier","slice","Operator","EndOfStatement","JSASTBuilder","position","currentToken","consumeToken","parseProgram","program","children","statement","parseStatement","parseVariableDeclaration","identifier","equals","buildAST","JSASTOptimizer","optimize","ast","simplify","node","map","JSValidator","errors","validate","traverse","validateProgram","validateVariableDeclaration","validateInlineConstant","validateIdentifier","validateLiteral","child","JSCodeGenerator","generate","join","find","JSParser","parse"],"mappings":"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"}