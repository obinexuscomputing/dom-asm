{"version":3,"file":"index.js","sources":["../../src/types.ts","../../src/tokenizer/JSTokenizer.ts","../../src/parser/JSParser.ts","../../src/validator/JSValidator.ts","../../src/generator/JSAstGenerator.ts","../../src/ast/JSAst.ts","../../src/ast/JSAstMinimizer.ts"],"sourcesContent":[null,null,null,null,null,null,null],"names":["NodeType","JSTokenType","Types","JSTokenizer","constructor","this","keywords","Set","operators","delimiters","tokenize","input","tokens","current","addToken","type","value","push","trim","length","char","has","Delimiter","test","Keyword","Identifier","Literal","multiCharOp","matchMultiCharOperator","slice","Operator","Error","EndOfStatement","find","op","startsWith","JSParser","setTokens","parse","children","node","walk","error","Program","body","token","parseKeyword","parseIfStatement","parseFunctionDeclaration","parseVariableDeclaration","condition","consequence","alternate","IfStatement","identifier","parameters","param","parseBlockStatement","FunctionDeclaration","keyword","initializer","VariableDeclaration","BlockStatement","JSValidator","errors","validate","ast","traverse","addError","code","message","includes","validateProgram","validateVariableDeclaration","validateBlockStatement","validateArrowFunction","validateTemplateLiteral","validateClass","validateMethodDefinition","validateAsyncFunction","validateObjectExpression","validateProperty","validateImport","validateExport","validateInlineConstant","validateIdentifier","validateLiteral","child","some","properties","forEach","prop","add","JSAstGenerator","tokenizer","validator","parser","convertToTypedNode","nodeType","map","line","column","generateFromSource","source","options","rawAst","typedAst","processAST","err","success","undefined","generateFromAST","result","validationErrors","convertValidationErrors","generateCode","location","codeParts","traverseAST","rawCode","join","formatOutput","BinaryExpression","format","formatCompact","formatPretty","indent","replace","segments","split","filter","Boolean","level","segment","trimmed","Math","max","repeat","trimEnd","JSASTBuilder","position","currentToken","consumeToken","peekToken","parseProgram","program","statement","parseStatement","equals","semicolon","buildAST","JSAstMinimizer","uniqueNodes","Map","minimize","clear","optimize","key","get","processedNode","performOptimization","set","simplifyNode","InlineConstant","Object","values"],"mappings":"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"}