{"version":3,"file":"index.cjs","sources":["../../src/tokenizer/index.ts","../../src/ast/index.ts","../../src/optimizer/index.ts"],"sourcesContent":[null,null,null],"names":["TokenType","build","tokens","root","type","children","current","walk","token","Literal","value","Identifier","Keyword","identifier","Error","EndOfStatement","length","push","optimize","ast","simplify","node","map","constructor","this","keywords","Set","operators","delimiters","singleCharDelimiters","previousToken","isValidOperatorChar","char","test","tokenize","input","addToken","shouldAddSemicolon","Delimiter","Comment","TemplateLiteral","some","indexOf","readNumber","number","hasDot","hasE","next","endsWith","readOperator","operator","maxOperator","tempCurrent","has","lookahead","slice","startsWith","Operator","template","braceCount","comment","depth"],"mappings":"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"}