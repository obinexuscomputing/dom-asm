{"version":3,"file":"index.cjs","sources":["../src/types.ts","../src/tokenizer/JSTokenizer.ts","../src/parser/JSParser.ts","../src/validator/JSValidator.ts","../src/ast/JSAst.ts","../src/generator/JSAstGenerator.ts","../src/ast/JSAstMinimizer.ts"],"sourcesContent":[null,null,null,null,null,null,null],"names":["NodeType","JSTokenType","Types","JSTokenizer","keywords","Set","operators","delimiters","tokenize","input","tokens","current","addToken","type","value","push","trim","length","char","this","has","Delimiter","test","Keyword","Identifier","Literal","multiCharOp","matchMultiCharOperator","slice","Operator","Error","EndOfStatement","find","op","startsWith","JSParser","constructor","setTokens","parse","children","node","walk","error","Program","body","token","parseKeyword","parseIfStatement","parseFunctionDeclaration","parseVariableDeclaration","condition","consequence","alternate","IfStatement","identifier","parameters","param","parseBlockStatement","FunctionDeclaration","keyword","initializer","VariableDeclaration","BlockStatement","JSValidator","errors","validate","ast","traverse","addError","code","message","includes","validateProgram","validateVariableDeclaration","validateBlockStatement","validateArrowFunction","validateTemplateLiteral","validateClass","validateMethodDefinition","validateAsyncFunction","validateObjectExpression","validateProperty","validateImport","validateExport","validateInlineConstant","validateIdentifier","validateLiteral","child","some","properties","forEach","prop","add","position","currentToken","consumeToken","peekToken","parseProgram","program","statement","parseStatement","equals","semicolon","buildAST","tokenizer","validator","parser","convertToTypedNode","nodeType","map","line","column","generateFromSource","source","options","rawAst","typedAst","processAST","err","success","undefined","generateFromAST","result","validationErrors","convertValidationErrors","generateCode","location","codeParts","traverseAST","rawCode","join","formatOutput","BinaryExpression","format","formatCompact","formatPretty","indent","replace","segments","split","filter","Boolean","level","segment","trimmed","Math","max","repeat","trimEnd","uniqueNodes","Map","minimize","clear","optimize","key","get","processedNode","performOptimization","set","simplifyNode","InlineConstant","Object","values"],"mappings":"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"}