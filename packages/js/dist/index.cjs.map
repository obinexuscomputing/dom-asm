{"version":3,"file":"index.cjs","sources":["../src/tokenizer/index.ts","../src/optimizer/index.ts","../src/ast/index.ts","../src/generator/index.ts","../src/parser/index.ts"],"sourcesContent":[null,null,null,null,null],"names":["TokenType","optimize","ast","simplify","node","type","children","value","map","tokens","position","constructor","this","currentToken","length","consumeToken","token","parseProgram","program","statement","parseStatement","push","Keyword","parseVariableDeclaration","Literal","parseInlineConstant","identifier","Identifier","Error","equals","parseValue","buildAST","generate","child","join","selector","find","declarations","filter","declaration","property","parse","keywords","Set","operators","delimiters","singleCharDelimiters","previousToken","isNumericStart","char","test","isValidNumber","match","parts","split","base","exponent","cleanExponent","replace","readNumber","input","start","current","number","hasDot","hasExponent","nextChar","readMultilineComment","depth","readTemplateLiteral","includes","braceCount","expressionStart","slice","readOperator","operator","maxOperator","has","readIdentifier","shouldAddSemicolon","Delimiter","Comment","TemplateLiteral","some","indexOf","tokenize","addToken","endsWith","newCurrent","operatorLength","Operator","EndOfStatement"],"mappings":"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"}