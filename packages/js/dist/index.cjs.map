{"version":3,"file":"index.cjs","sources":["../../src/tokenizer/JSTokenizer.ts","../../src/ast/JSAst.ts","../../src/generator/JSAstGenerator.ts","../../src/ast/JSAstMinimzer.ts","../../src/parser/JSParser.ts","../../src/validator/JSValidator.ts"],"sourcesContent":[null,null,null,null,null,null],"names":["JSTokenType","tokens","position","constructor","this","currentToken","length","consumeToken","Error","peekToken","parseProgram","program","type","children","statement","parseStatement","push","token","Keyword","value","parseVariableDeclaration","identifier","Identifier","equals","Operator","Literal","semicolon","Delimiter","buildAST","generate","ast","map","child","join","find","uniqueNodes","Map","minimize","clear","traverse","optimize","node","key","has","get","processedNode","performOptimization","set","simplifyNode","parse","parseExpression","parseInlineConstant","parseBinaryExpression","parseBlockStatement","parseIfStatement","parseFunctionDeclaration","parseReturnStatement","filter","result","childResults","trimEnd","leftChild","rightChild","operator","condition","thenBranch","elseBranch","name","body","expression","keywords","Set","operators","delimiters","tokenize","input","current","addToken","trim","char","test","remainingInput","slice","multiCharOp","matchMultiCharOperator","EndOfStatement","op","startsWith","errors","validate","addError","code","message","validateProgram","validateVariableDeclaration","validateInlineConstant","validateIdentifier","validateLiteral","validateArrowFunction","validateTemplateLiteral","validateObjectExpression","validateArrayExpression","validateSpreadElement","validateDestructuring","validateImport","validateExport","validateClass","validateAsyncFunction","validateAwaitExpression","defaultExports","includes","params","forEach","properties","prop","add","validateProperty","validateMethodDefinition","validatePropertyDefinition","element"],"mappings":"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"}