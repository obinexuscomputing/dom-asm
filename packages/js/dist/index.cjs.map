{"version":3,"file":"index.cjs","sources":["../../src/tokenizer/index.ts","../../src/ast/index.ts","../../src/optimizer/index.ts"],"sourcesContent":[null,null,null],"names":["TokenType","build","tokens","root","type","children","current","walk","token","Literal","value","Identifier","Keyword","identifier","Error","EndOfStatement","length","push","optimize","ast","simplify","node","map","constructor","this","keywords","Set","operators","delimiters","singleCharDelimiters","previousToken","isValidOperatorChar","char","test","tokenize","input","addToken","shouldAddSemicolon","Delimiter","Comment","TemplateLiteral","some","indexOf","readOperator","operator","tempCurrent","maxOperator","has","Operator","number","template","depth","braceDepth","comment"],"mappings":"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"}