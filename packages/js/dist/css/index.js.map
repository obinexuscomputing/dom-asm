{"version":3,"file":"index.js","sources":["../../../src/tokenizer/index.ts","../../../src/ast/index.ts","../../../src/optimizer/index.ts"],"sourcesContent":[null,null,null],"names":["TokenType","Tokenizer","constructor","this","keywords","Set","operators","delimiters","singleCharDelimiters","previousToken","isNumericStart","char","test","isValidNumber","value","match","length","parts","split","base","exponent","cleanExponent","replace","readNumber","input","start","current","number","hasDot","hasExponent","Error","nextChar","readMultilineComment","depth","readTemplateLiteral","includes","braceCount","expressionStart","slice","readOperator","operator","maxOperator","has","readIdentifier","shouldAddSemicolon","tokens","type","Delimiter","Comment","TemplateLiteral","some","token","indexOf","tokenize","addToken","push","endsWith","newCurrent","Literal","operatorLength","Operator","Identifier","Keyword","EndOfStatement","ASTBuilder","build","root","children","walk","identifier","ASTOptimizer","optimize","ast","simplify","node","map"],"mappings":"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"}