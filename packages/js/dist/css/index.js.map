{"version":3,"file":"index.js","sources":["../../../src/tokenizer/index.ts","../../../src/ast/index.ts","../../../src/optimizer/index.ts","../../../src/generator/index.ts","../../../src/parser/index.ts"],"sourcesContent":[null,null,null,null,null],"names":["TokenType","Tokenizer","constructor","this","keywords","Set","operators","delimiters","singleCharDelimiters","previousToken","isNumericStart","char","test","isValidNumber","value","match","length","parts","split","base","exponent","cleanExponent","replace","readNumber","input","start","current","number","hasDot","hasExponent","Error","nextChar","readMultilineComment","depth","readTemplateLiteral","includes","braceCount","expressionStart","slice","readOperator","operator","maxOperator","has","readIdentifier","shouldAddSemicolon","tokens","type","Delimiter","Comment","TemplateLiteral","some","token","indexOf","tokenize","addToken","push","endsWith","newCurrent","Literal","operatorLength","Operator","Identifier","Keyword","EndOfStatement","JSASTBuilder","position","currentToken","consumeToken","parseProgram","program","children","statement","parseStatement","parseVariableDeclaration","parseInlineConstant","identifier","equals","parseValue","buildAST","ASTOptimizer","optimize","ast","simplify","node","map","JSCodeGenerator","generate","child","join","selector","find","declarations","filter","declaration","property","JSParser","parse"],"mappings":"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"}